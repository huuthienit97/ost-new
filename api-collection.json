{
  "info": {
    "name": "CLB S√°ng T·∫°o - Complete API Collection",
    "description": "B·ªô s∆∞u t·∫≠p API ƒë·∫ßy ƒë·ªß cho h·ªá th·ªëng qu·∫£n l√Ω c√¢u l·∫°c b·ªô s√°ng t·∫°o",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "apiKey",
      "value": "",
      "type": "string"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "üîê Authentication",
      "description": "API x√°c th·ª±c v√† qu·∫£n l√Ω phi√™n ƒëƒÉng nh·∫≠p",
      "item": [
        {
          "name": "Check System Init",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/auth/check-init",
            "description": "üü¢ PUBLIC - Ki·ªÉm tra h·ªá th·ªëng ƒë√£ kh·ªüi t·∫°o ch∆∞a"
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.to.have.status(200)) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"password123\"\n}"
            },
            "url": "{{baseUrl}}/api/auth/login",
            "description": "üü¢ PUBLIC - ƒêƒÉng nh·∫≠p v√† l·∫•y JWT token"
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/auth/me",
            "description": "üîµ USER - L·∫•y th√¥ng tin user hi·ªán t·∫°i"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [],
            "url": "{{baseUrl}}/api/auth/logout",
            "description": "üîµ USER - ƒêƒÉng xu·∫•t"
          }
        }
      ]
    },
    {
      "name": "üë• Users Management",
      "description": "API qu·∫£n l√Ω ng∆∞·ªùi d√πng h·ªá th·ªëng (üü° ADMIN required)",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/users",
            "description": "üü° ADMIN - L·∫•y danh s√°ch t·∫•t c·∫£ users"
          }
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"newuser\",\n  \"email\": \"newuser@example.com\",\n  \"fullName\": \"Ng∆∞·ªùi d√πng m·ªõi\",\n  \"password\": \"password123\",\n  \"roleId\": 2\n}"
            },
            "url": "{{baseUrl}}/api/users",
            "description": "üü° ADMIN - T·∫°o user m·ªõi"
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"T√™n ƒë√£ c·∫≠p nh·∫≠t\",\n  \"email\": \"updated@example.com\"\n}"
            },
            "url": "{{baseUrl}}/api/users/2",
            "description": "üü° ADMIN - C·∫≠p nh·∫≠t th√¥ng tin user"
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"password123\",\n  \"newPassword\": \"newpassword123\"\n}"
            },
            "url": "{{baseUrl}}/api/auth/change-password",
            "description": "üîµ USER - ƒê·ªïi m·∫≠t kh·∫©u"
          }
        }
      ]
    },
    {
      "name": "üéì Members Management",
      "description": "API qu·∫£n l√Ω th√†nh vi√™n c√¢u l·∫°c b·ªô",
      "item": [
        {
          "name": "Get All Members",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/members",
              "host": ["{{baseUrl}}"],
              "path": ["api", "members"],
              "query": [
                {
                  "key": "search",
                  "value": "",
                  "description": "T√¨m ki·∫øm theo t√™n, m√£ h·ªçc sinh, l·ªõp",
                  "disabled": true
                },
                {
                  "key": "type",
                  "value": "active",
                  "description": "active | alumni",
                  "disabled": true
                },
                {
                  "key": "department",
                  "value": "1",
                  "description": "ID ph√≤ng ban",
                  "disabled": true
                },
                {
                  "key": "position",
                  "value": "1",
                  "description": "ID ch·ª©c v·ª•",
                  "disabled": true
                }
              ]
            },
            "description": "üîµ USER - L·∫•y danh s√°ch th√†nh vi√™n v·ªõi filter"
          }
        },
        {
          "name": "Get Member by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/members/1",
            "description": "üîµ USER - L·∫•y th√¥ng tin chi ti·∫øt th√†nh vi√™n"
          }
        },
        {
          "name": "Create Member",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Nguy·ªÖn VƒÉn A\",\n  \"studentId\": \"HS001\",\n  \"email\": \"student@example.com\",\n  \"phone\": \"0987654321\",\n  \"class\": \"12A1\",\n  \"departmentId\": 1,\n  \"positionId\": 1,\n  \"academicYearId\": 1,\n  \"memberType\": \"active\",\n  \"joinDate\": \"2024-11-01\",\n  \"notes\": \"Ghi ch√∫ th√™m\"\n}"
            },
            "url": "{{baseUrl}}/api/members",
            "description": "üü° ADMIN - T·∫°o th√†nh vi√™n m·ªõi"
          }
        },
        {
          "name": "Update Member",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Nguy·ªÖn VƒÉn A Updated\",\n  \"phone\": \"0987654322\",\n  \"class\": \"12A2\"\n}"
            },
            "url": "{{baseUrl}}/api/members/1",
            "description": "üü° ADMIN - C·∫≠p nh·∫≠t th√¥ng tin th√†nh vi√™n"
          }
        },
        {
          "name": "Delete Member",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/members/1",
            "description": "üü° ADMIN - X√≥a th√†nh vi√™n (soft delete)"
          }
        }
      ]
    },
    {
      "name": "üè¢ Departments",
      "description": "API qu·∫£n l√Ω ban trong c√¢u l·∫°c b·ªô",
      "item": [
        {
          "name": "Get All Departments",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/departments",
            "description": "üîµ USER - L·∫•y danh s√°ch ban"
          }
        }
      ]
    },
    {
      "name": "üëë Positions",
      "description": "API qu·∫£n l√Ω ch·ª©c v·ª• chu·∫©n h√≥a (üî¥ SUPER_ADMIN required)",
      "item": [
        {
          "name": "Get All Positions",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/positions",
            "description": "üîµ USER - L·∫•y danh s√°ch ch·ª©c v·ª•"
          }
        },
        {
          "name": "Create Position",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"vice-president\",\n  \"displayName\": \"Ph√≥ ch·ªß nhi·ªám\",\n  \"level\": 90,\n  \"description\": \"Ph·ª• tr√°ch h·ªó tr·ª£ ch·ªß nhi·ªám\",\n  \"color\": \"#10B981\"\n}"
            },
            "url": "{{baseUrl}}/api/positions",
            "description": "üî¥ SUPER_ADMIN - T·∫°o ch·ª©c v·ª• m·ªõi"
          }
        },
        {
          "name": "Update Position",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"displayName\": \"Ph√≥ ch·ªß nhi·ªám c·∫•p cao\",\n  \"level\": 95\n}"
            },
            "url": "{{baseUrl}}/api/positions/1",
            "description": "üî¥ SUPER_ADMIN - C·∫≠p nh·∫≠t ch·ª©c v·ª•"
          }
        },
        {
          "name": "Delete Position",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/positions/1",
            "description": "üî¥ SUPER_ADMIN - X√≥a ch·ª©c v·ª•"
          }
        }
      ]
    },
    {
      "name": "üìã Divisions",
      "description": "API qu·∫£n l√Ω ban ph·ª• tr√°ch (üî¥ SUPER_ADMIN required)",
      "item": [
        {
          "name": "Get All Divisions",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/divisions",
            "description": "üîµ USER - L·∫•y danh s√°ch ban"
          }
        },
        {
          "name": "Create Division",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Ban S·ª± ki·ªán\",\n  \"description\": \"Ph·ª• tr√°ch t·ªï ch·ª©c c√°c s·ª± ki·ªán\",\n  \"color\": \"#8B5CF6\",\n  \"icon\": \"Calendar\"\n}"
            },
            "url": "{{baseUrl}}/api/divisions",
            "description": "üî¥ SUPER_ADMIN - T·∫°o ban m·ªõi"
          }
        },
        {
          "name": "Update Division",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Ban S·ª± ki·ªán v√† Truy·ªÅn th√¥ng\",\n  \"description\": \"Ph·ª• tr√°ch t·ªï ch·ª©c s·ª± ki·ªán v√† truy·ªÅn th√¥ng\"\n}"
            },
            "url": "{{baseUrl}}/api/divisions/1",
            "description": "üî¥ SUPER_ADMIN - C·∫≠p nh·∫≠t ban"
          }
        },
        {
          "name": "Delete Division",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/divisions/1",
            "description": "üî¥ SUPER_ADMIN - X√≥a ban"
          }
        }
      ]
    },
    {
      "name": "üìÖ Academic Years",
      "description": "API qu·∫£n l√Ω kh√≥a h·ªçc (üî¥ SUPER_ADMIN required)",
      "item": [
        {
          "name": "Get All Academic Years",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/academic-years",
            "description": "üîµ USER - L·∫•y danh s√°ch kh√≥a h·ªçc"
          }
        },
        {
          "name": "Create Academic Year",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Kh√≥a 2025-2026\",\n  \"startDate\": \"2025-11-01\",\n  \"endDate\": \"2026-11-01\",\n  \"description\": \"Kh√≥a h·ªçc nƒÉm 2025-2026\"\n}"
            },
            "url": "{{baseUrl}}/api/academic-years",
            "description": "üî¥ SUPER_ADMIN - T·∫°o kh√≥a h·ªçc m·ªõi (t·ª´ 11/nƒÉm n√†y ƒë·∫øn 11/nƒÉm sau)"
          }
        },
        {
          "name": "Update Academic Year",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Kh√≥a h·ªçc ƒë·∫∑c bi·ªát 2025-2026\"\n}"
            },
            "url": "{{baseUrl}}/api/academic-years/1",
            "description": "üî¥ SUPER_ADMIN - C·∫≠p nh·∫≠t kh√≥a h·ªçc"
          }
        },
        {
          "name": "Delete Academic Year",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/academic-years/1",
            "description": "üî¥ SUPER_ADMIN - X√≥a kh√≥a h·ªçc"
          }
        }
      ]
    },
    {
      "name": "üèÜ Achievements",
      "description": "API h·ªá th·ªëng th√†nh t√≠ch",
      "item": [
        {
          "name": "Get All Achievements",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/achievements",
            "description": "üîµ USER - L·∫•y danh s√°ch th√†nh t√≠ch"
          }
        },
        {
          "name": "Create Achievement",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Th√†nh vi√™n xu·∫•t s·∫Øc\",\n  \"description\": \"D√†nh cho th√†nh vi√™n c√≥ ƒë√≥ng g√≥p t√≠ch c·ª±c\",\n  \"category\": \"participation\",\n  \"level\": \"gold\",\n  \"badgeIcon\": \"Trophy\",\n  \"badgeColor\": \"#FFD700\",\n  \"pointsReward\": 100\n}"
            },
            "url": "{{baseUrl}}/api/achievements",
            "description": "üü° ADMIN - T·∫°o th√†nh t√≠ch m·ªõi"
          }
        },
        {
          "name": "Award Achievement",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 2,\n  \"achievementId\": 1,\n  \"notes\": \"Ho√†n th√†nh xu·∫•t s·∫Øc d·ª± √°n th√°ng 11\"\n}"
            },
            "url": "{{baseUrl}}/api/achievements/award",
            "description": "üü° ADMIN - Trao th√†nh t√≠ch cho user (t·ª± ƒë·ªông c·ªông BeePoints)"
          }
        },
        {
          "name": "Get My Achievements",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/achievements/me",
            "description": "üîµ USER - L·∫•y danh s√°ch th√†nh t√≠ch c·ªßa b·∫£n th√¢n"
          }
        }
      ]
    },
    {
      "name": "üçØ BeePoints",
      "description": "API h·ªá th·ªëng ƒëi·ªÉm th∆∞·ªüng",
      "item": [
        {
          "name": "Get My BeePoints",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/bee-points/me",
            "description": "üîµ USER - L·∫•y ƒëi·ªÉm BeePoints c·ªßa b·∫£n th√¢n"
          }
        },
        {
          "name": "Add BeePoints",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 2,\n  \"amount\": 50,\n  \"description\": \"Th∆∞·ªüng ho√†n th√†nh nhi·ªám v·ª•\"\n}"
            },
            "url": "{{baseUrl}}/api/bee-points/add",
            "description": "üü° ADMIN - Th√™m ƒëi·ªÉm cho user"
          }
        },
        {
          "name": "Get Point Transactions",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/bee-points/transactions",
            "description": "üîµ USER - L·∫•y l·ªãch s·ª≠ giao d·ªãch ƒëi·ªÉm"
          }
        }
      ]
    },
    {
      "name": "üìä Statistics",
      "description": "API th·ªëng k√™ t·ªïng quan",
      "item": [
        {
          "name": "Get Basic Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/stats",
            "description": "üîµ USER - L·∫•y th·ªëng k√™ c∆° b·∫£n"
          }
        },
        {
          "name": "Get Dynamic Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/dynamic-stats",
            "description": "üîµ USER - L·∫•y th·ªëng k√™ ƒë·ªông"
          }
        }
      ]
    },
    {
      "name": "üîë API Keys Management",
      "description": "API qu·∫£n l√Ω API keys (üü° ADMIN required)",
      "item": [
        {
          "name": "Get All API Keys",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/admin/api-keys",
            "description": "üü° ADMIN - L·∫•y danh s√°ch API keys"
          }
        },
        {
          "name": "Create API Key",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mobile App API\",\n  \"permissions\": [\"members:view\", \"stats:view\", \"achievements:view\"]\n}"
            },
            "url": "{{baseUrl}}/api/admin/api-keys",
            "description": "üü° ADMIN - T·∫°o API key m·ªõi"
          }
        },
        {
          "name": "Update API Key",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"permissions\": [\"members:view\", \"stats:view\"]\n}"
            },
            "url": "{{baseUrl}}/api/admin/api-keys/1",
            "description": "üü° ADMIN - C·∫≠p nh·∫≠t quy·ªÅn API key"
          }
        },
        {
          "name": "Delete API Key",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/admin/api-keys/1",
            "description": "üü° ADMIN - X√≥a API key"
          }
        }
      ]
    },
    {
      "name": "üåê External API (API Key Required)",
      "description": "API d√†nh cho ·ª©ng d·ª•ng b√™n ngo√†i (c·∫ßn x-api-key header)",
      "auth": {
        "type": "noauth"
      },
      "item": [
        {
          "name": "External Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-key",
                "value": "{{apiKey}}",
                "description": "API key cho external access"
              }
            ],
            "url": "{{baseUrl}}/api/external/stats",
            "description": "L·∫•y th·ªëng k√™ cho ·ª©ng d·ª•ng b√™n ngo√†i"
          }
        },
        {
          "name": "External Members",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-key",
                "value": "{{apiKey}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/external/members",
              "host": ["{{baseUrl}}"],
              "path": ["api", "external", "members"],
              "query": [
                {
                  "key": "departmentId",
                  "value": "1",
                  "disabled": true
                }
              ]
            },
            "description": "L·∫•y danh s√°ch th√†nh vi√™n cho ·ª©ng d·ª•ng b√™n ngo√†i"
          }
        },
        {
          "name": "External Achievements",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-key",
                "value": "{{apiKey}}"
              }
            ],
            "url": "{{baseUrl}}/api/external/achievements",
            "description": "L·∫•y danh s√°ch th√†nh t√≠ch cho ·ª©ng d·ª•ng b√™n ngo√†i"
          }
        }
      ]
    }
  ]
}